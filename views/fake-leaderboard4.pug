extends layout

block content
  style.
    @import url(https://fonts.googleapis.com/css2?family=Chakra+Petch&display=swap);@import url(https://fonts.googleapis.com/css2?family=Comfortaa&display=swap);@import url(https://fonts.googleapis.com/css2?family=Poppins&display=swap);header > *{-webkit-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}*,:after,:before{-moz-box-sizing:border-box;box-sizing:border-box;-webkit-box-sizing:border-box}body{text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;line-height:1.5;font-family:'Chakra Petch',sans-serif;margin:0;height:100%;min-height:100%;color:#fff;background:#050b18;letter-spacing:.1em;cursor:default;overflow-x:scroll}::-webkit-scrollbar{width:4px;height:0}::-webkit-scrollbar-track{background:#03070e}::-webkit-scrollbar-thumb{background:linear-gradient(to bottom,#ff2079,#41e7fe);border-radius:30px;opacity:.8}.temp-body{opacity:.05;transition:all .2s ease-in-out}::selection{background:#ee448e;color:#fff}a{cursor:pointer}.column,.columns,.container{width:100%;-moz-box-sizing:border-box;box-sizing:border-box}.container{position:relative;width:100%;margin:0 auto}.column,.columns{float:left}.container:after,.row:after{content:'';display:table;clear:both}a{color:inherit;text-decoration:none}a:hover{color:#e309a2}.left{text-align:left}.right{text-align:right}.center{text-align:center}h2.center{font-family:'Chakra Petch',sans-serif;font-size:20px;margin-top:40px}footer h2{background:linear-gradient(to bottom,#43e3fe,#f11d7a);background-clip:text;-webkit-background-clip:text;color:transparent}.float-right{float:right}p.error{margin:-15px 0 20px 0;text-align:center;font-weight:700;color:#d41d76}footer,header{background:#050b18;line-height:50px;box-shadow:0 0 1px 0 rgba(0,0,0,.1)}header{height:50px}footer{height:max-content;background:#030711;margin-top:10vh}.separator{height:3px;width:100%;background-image:linear-gradient(to right,#2473e9,#d41d76)}.card{width:620px;max-width:100%;background:#030711;box-shadow:1px 2px 1px 0 rgba(0,0,0,.05);margin:60px auto;padding:4%;font-family:Comfortaa,cursive}.animated-box,.animated-box2,.animated-box3,.animated-box4{position:relative;width:60%}.animated-box2{margin:auto;width:fit-content;height:90vh}.animated-box3{margin:inherit;width:inherit}.animated-box4{width:40%}.animated-box2:after,.animated-box3:after,.animated-box4:after,.animated-box:after{content:'';position:absolute;top:0;left:0;right:0;bottom:0;border-radius:4px;background:linear-gradient(120deg,#f11d7a,#43e3fe,#f11d7a,#43e3fe);background-size:300% 300%}.animated-box:after{clip-path:polygon(0 100%,3px 100%,3px 3px,calc(100% - 3px) 3px,calc(100% - 3px) calc(100% - 3px),3px calc(100% - 3px),3px 100%,100% 100%,100% 0,0 0)}.animated-box2:after{clip-path:polygon(0 100%,1px 100%,1px 1px,calc(100% - 1px) 1px,calc(100% - 1px) calc(100% - 1px),1px calc(100% - 1px),1px 100%,100% 100%,100% 0,0 0)}.animated-box3:after{clip-path:polygon(0 100%,2px 100%,2px 2px,calc(100% - 2px) 2px,calc(100% - 2px) calc(100% - 2px),2px calc(100% - 2px),2px 100%,100% 100%,100% 0,0 0)}.animated-box4:after{clip-path:polygon(0 100%,1px 100%,1px 1px,calc(100% - 1px) 1px,calc(100% - 1px) calc(100% - 1px),1px calc(100% - 1px),1px 100%,100% 100%,100% 0,0 0)}.animated-box.in:after,.animated-box2.in:after,.animated-box3.in:after,.animated-box4.in:after{animation:gradient-animation 8s ease-in-out infinite}@keyframes gradient-animation{0%{background-position:15% 0}50%{background-position:85% 100%}100%{background-position:15% 0}}@keyframes gradient-animation2{0%{background-position:0 0}50%{background-position:100% 100%}100%{background-position:0 0}}#myInput:focus,.animated-box textarea:focus{outline:0}.card h1.form-title{text-align:center;font-size:2em;margin-top:0;text-align:left;font-weight:700}.card h1.error{margin-bottom:0}h1.title{margin-top:20vh;text-align:center;font-size:3em}p.credits{text-align:center;color:#aaa;margin:-30px 0 0 0}form{margin:0;padding:0}form .form-group{margin-bottom:20px}form label{text-align:left;font-weight:700;margin-bottom:5px;display:block;font-family:Poppins,sans-serif;margin-top:2em}form input,select,textarea{display:block;width:100%;font-size:1em;border:1px solid #fff;height:48px;padding:6px 10px;border-radius:5px;box-shadow:none;box-sizing:border-box;margin-bottom:5px;background:#050b18;-webkit-appearance:none;color:#fff;font-family:Poppins,sans-serif;margin-top:1em}form input:focus,form textarea:focus,select:focus{outline:0}input:focus::-webkit-input-placeholder{color:#050b18}input[type=email],input[type=password],input[type=text]{padding:12px 16px;background-repeat:no-repeat;text-indent:35px;background-position:10px 10px}form input[type=submit]{background:linear-gradient(to right,#43e3fe,#f11d7a);border:none;color:#fff;font-size:1em;letter-spacing:1px;font-weight:700;margin-bottom:0;margin-top:3em;align-items:center}form input[type=submit]:hover{background:linear-gradient(to right,#a1effd,#fa8fbe)}input::-webkit-inner-spin-button,input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.mob-logo{display:none}img.footer-logo{margin:1rem 1rem 4rem 1rem}img.footer-logo:hover{background-color:#dcdcdc;filter:invert(100%)}.gol{padding:13px;border-radius:100%;border-color:#000;height:60px;width:60px}.gol.fb{border-radius:20%}#img1{filter:invert(100%)}.previous{font-size:50px;margin:0 auto;text-align:center}
    .desktop-nav ul{list-style:none;margin:0;padding-left:0;padding-top:10px;padding-right:15px}.desktop-nav ul li{display:inline-block;list-style:none}.desktop-nav ul li a{color:inherit;height:50px;display:block;border:none;text-decoration:none;font-weight:700;font-size:1.3em;margin-right:2em}.desktop-nav ul li a:hover{color:#e309a2}#nav.mobile-nav{margin:auto;font-size:34px;width:100vw;height:100vh;margin-top:120px}.mobile-nav ul{padding:0 50px 50px 50px;margin:auto;list-style-type:none;padding-bottom:90px}.mobile-nav ul li{display:flex;align-items:center;justify-content:center;padding-top:80px}.mobile-nav ul li a{text-align:center}.hidden{display:none}.notHidden{display:block}.mobile-nav ul.animated-box4.in{height:max-content;width:max-content;background:#030711}.hamburger-menu{display:none;height:100px;padding:35px 10px;transition:all .4s ease-in-out}.hamburger-menu:hover{cursor:pointer}.hamburger-menu .menu-item{display:block;height:2px;margin:0 0 7px;transition:all .3s ease-in-out;background-image:linear-gradient(to bottom right,#42e6ff,#f11d7a);background-size:100px;width:30px}.hamburger-menu.open .menu-item{margin:0 0 5px}.hamburger-menu .menu-item:nth-child(2),.hamburger-menu .menu-item:nth-child(3){background-position-y:50px}.hamburger-menu.open .menu-item:first-child{transform:rotate(45deg);transform-origin:6px}.hamburger-menu.open .menu-item:nth-child(2){opacity:0}.hamburger-menu.open .menu-item:nth-child(3){transform:rotate(-45deg);transform-origin:4px}.active{background-image:linear-gradient(to right,#42e6ff 0,#f11d7a 100%);background-size:40px 2px;background-position-y:40px;background-repeat:no-repeat}
    .flex{display:flex;height:48px}.flex img{height:60px;width:60px;padding:10px}#youfunction{display:flex}#youfunction p{margin-top:-10px;font-size:20px;margin-left:-25px;}.flex img.you{margin-top:-5px;margin-left:26px;width:51px}.arrows{margin-left:10%;margin-top:-6px;display:flex}.arrow{position:absolute}.arrow:nth-child(2){margin-left:50px}.flex p{padding:20px;margin-left:40px}.card.leaderboard{width:60%;padding:3%;background-color:#030711;font-family:'Chakra Petch',sans-serif}#leader{font-size:3em;background:linear-gradient(#fff,#cbbbf3,#440bd4);background-clip:text;-webkit-background-clip:text;color:transparent;text-align:center}.card.leaderboard table{width:100%;text-align:center}.card.leaderboard table td,.card.leaderboard table th{padding:1.8%;background-color:#050b18;word-wrap:break-word}.card.leaderboard table th{font-size:1.6em;font-weight:bolder;letter-spacing:.2em}#myInput{display:block;font-size:1em;width:100%;border:1px solid #fff;border-radius:20px;height:48px;padding:12px 16px;background:#050b18;background-repeat:no-repeat;background-position:10px 10px;background-size:25px;background-image:url(https://transcendent-cocada-cde0ba.netlify.app/img/search.png);border-radius:5px;text-indent:35px;box-shadow:none;box-sizing:border-box;margin-bottom:5px;-webkit-appearance:none;color:#fff;font-family:Poppins,sans-serif;bottom:10px}#myTable{padding-top:20px}
    @media (min-width:750px){.container{width:100%}.column,.columns{margin-left:4%}.column:first-child,.columns:first-child{margin-left:0}.one.column,.one.columns{width:4.66666666667%}.two.columns{width:13.3333333333%}.three.columns{width:22%}.four.columns{width:30.6666666667%}.five.columns{width:39.3333333333%}.six.columns{width:48%}.seven.columns{width:56.6666666667%}.eight.columns{width:65.3333333333%}.nine.columns{width:74%}.ten.columns{width:82.6666666667%}.eleven.columns{width:91.3333333333%}.twelve.columns{width:100%;margin-left:0}}@media (min-width:500px){.sphere path{stroke-width:.4px}}@media (max-width:750px){header{padding-top:0;height:6vh}nav{height:100vh;padding:10px 2.5px;position:absolute;left:0;right:0;top:0;white-space:nowrap;text-align:left;z-index:9000;font-size:10px}.desktop-nav{display:none}.hamburger-menu{display:inline-block;margin-right:25px}.mob-logo{position:absolute;max-height:80px;left:0;margin-top:16px;margin-left:10px;display:inline-block}section#main{margin-top:60px}p.credits{font-size:.8em}footer nav li a,header nav li a{height:30px!important;line-height:30px!important}header .left{display:none}header a.active{background:0 0}.simplebar-track.simplebar-vertical{width:5px;right:0}.card{width:92vw;padding:40px;top:10vh}.card h1.form-title{font-size:1.1em}.card p{font-size:.6em;margin-top:10px}.card label{font-size:.8em}.card input{font-size:.8em;height:40px;background-position:6px 6px;text-indent:28px}.card input[type=submit]{text-indent:0}.card.question-card{width:400px;padding:40px}.card.question-card p{font-size:1em}h1.title{font-size:2em}.animated-box3.play-page{margin:auto;margin-top:50px}.card.question-card input{text-indent:0}h1.center{font-size:1.5em;margin-top:10px}#rules.card ul{margin-top:-25px}#rules.card li{font-size:10px;margin-left:-25px}#rules.card{height:fit-content;width:92vw;padding:40px}.card.leaderboard{width:92vw;padding-top:8vh}.card.leaderboard #leader{font-size:2em}.flex{padding-top:3vh;display:block}.flex img{height:50px;width:50px}.arrow{float:right;width:100%;right:0}.arrows{margin:auto;margin-top:20px;width:100%}.arrow:nth-child(1){margin-right:50px}.arrow:nth-child(2){margin-right:10px}#myInput{font-size:.8em;height:40px;background-position:10px 12px;text-indent:18px;background-size:15px 15px}.animated-box.in{margin:auto;height:40px;width:90%}.animated-box:after{clip-path:polygon(0 100%,2px 100%,2px 2px,calc(100% - 2px) 2px,calc(100% - 2px) calc(100% - 2px),2px calc(100% - 2px),2px 100%,100% 100%,100% 0,0 0)}#myTable{padding:20px;padding-top:90px}.card.leaderboard table th{font-size:1.2em}.card.leaderboard table td{font-size:1em}}@media (min-width:750px) and (max-width:1112px){.desktop-nav{display:none}.hamburger-menu{display:inline-block}nav{z-index:9000}#nav.mobile-nav{position:absolute}.mob-logo{position:absolute;max-height:100px;height:80px;left:0;top:0;margin-left:50px;display:inline-block;margin-top:16px}header{height:15vh}.handletter{display:none}.eight.columns{width:90%}.eight.columns.right{top:0}.card{width:70vw;padding:80px}h1.center{font-size:2em;margin-top:20px}#rules.card li{font-size:14px;margin-left:-25px}#rules.card{height:fit-content}}@media (max-width:1200px){#youfunction{display:none;}}

  if eventOver
    .card.leaderboard
      h1.form-title Leaderboard
      table
        tr
          th Rank
          th Name
          th School
          th Level

        each team, index in leaderboard
            - var link = '/user/' + team.username;
            tr
                td#td= index+1
                - var you = " (You)"
                if isLoggedIn
                    if team.username == currentUser.username
                        td#you
                            a(href=link) #{currentUser.username} #{you}
                        td 18
                    else
                        td
                            a(href=link) #{team.username}
                        td= team.level
                else
                    td
                        a(href=link) #{team.username}
                    td= team.level
  else
    .card.leaderboard.animated-box4.in
      h1#leader.form-title Leaderboard
      .flex
        .animated-box.in
          input#myInput(type='text' onkeyup='searchBar()' placeholder='Search Username')
        if isLoggedIn
          #youfunction
            img.you(src="https://transcendent-cocada-cde0ba.netlify.app/img/you.png" onclick="you()")
            p(onclick="you()") You
        .arrows
          img.arrow(src="https://transcendent-cocada-cde0ba.netlify.app/img/left.png" onclick="nested2()")
          img.arrow(src="https://transcendent-cocada-cde0ba.netlify.app/img/right.png" onclick="nested1()")
      table#myTable
        tr
          th Rank
          th Username
          th Level
        each team, index in leaderboard            
            - var link = '/user/' + team.username;
            tr
                td#td= index+1
                - var you = " (You)"
                if isLoggedIn
                    if team.username == currentUser.username
                        td#you
                            a(href=link) #{currentUser.username} #{you}
                        td 18
                    else
                        if team.level == 14.1
                            td
                                a(href=link) #{team.username}
                            td 15
                        else if team.level == 14.2
                            td
                                a(href=link) #{team.username}
                            td 16
                        else if team.level == 14.3
                            td
                                a(href=link) #{team.username}
                            td 17
                        else if team.level == 14.4
                            td
                                a(href=link) #{team.username}
                            td 18
                        else if team.level == 26
                            td
                                a(href=link) #{team.username}
                            td ?
                        else if team.level == 27
                            td
                                a(href=link) #{team.username}
                            td
                                img(src='https://steady-starburst-28a19a.netlify.app/img/decypher.png')
                        else
                            td
                                a(href=link) #{team.username}
                            td= team.level
                else
                    td
                        a(href=link) #{team.username}
                    td= team.level

  script.
    var path = window.location.pathname;
    var page = path.split("/").pop();
    document.getElementById("leaderboardnav").classList.toggle("active");
    document.getElementById("leaderboardnav").style.backgroundSize = "80px 2px";
    var variable1 = 1
    var variable2 = 15
    var variable3 = (document.getElementsByTagName("tr").length - ((document.getElementsByTagName("tr").length)%15)) +1
    var count = document.getElementsByTagName("tr").length 
    function searchBar() {
        // Declare variables
        var input, filter, table, tr, td, td1, txtValue1, i, txtValue;
        input = document.getElementById("myInput");
        filter = input.value.toUpperCase();
        table = document.getElementById("myTable");
        tr = table.getElementsByTagName("tr");
        input.placeholder = "Search Username (" + (count-1) + " total entries)"
        // Loop through all table rows, and hide those who don't match the search query
        for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[1];
            if (td) {
                txtValue = td.textContent || td.innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                tr[i].style.display = "";
                } 
                else {
                tr[i].style.display = "none";
                }
                if (!input.value){
                td1 = tr[i].getElementsByTagName("td")[0];
                txtValue1 = td1.innerText;
                if (parseInt(txtValue1) < variable1 || parseInt(txtValue1) > variable2){
                    tr[i].style.display = "none"
                    if (variable1 === 1) {
                    document.getElementsByClassName('arrow')[0].style.opacity = '0.5'
                    document.getElementsByClassName('arrow')[0].onclick = null
                    document.getElementsByClassName('arrow')[1].onclick = function(){nested1()}
                    }
                    else if (variable1 === variable3){
                    document.getElementsByClassName('arrow')[1].style.opacity = '0.5'
                    document.getElementsByClassName('arrow')[0].onclick = function(){nested2()}
                    document.getElementsByClassName('arrow')[1].onclick = null
                    }
                    else {
                    document.getElementsByClassName('arrow')[0].style.opacity = '1'
                    document.getElementsByClassName('arrow')[1].style.opacity = '1'
                    document.getElementsByClassName('arrow')[0].onclick = function(){nested2()}
                    document.getElementsByClassName('arrow')[1].onclick = function(){nested1()}
                    }
                }
                }
            }
        }
    }
    function nextPage() {
        variable1+=15
        variable2+=15
    }
    function previousPage() {
        variable1-=15
        variable2-=15
    }
    function you() {
        currentuser = document.getElementById("you").innerText
        input = document.getElementById("myInput");
        input.value = currentuser
        searchBar()
    }
    function nested1() {
        nextPage();
        searchBar();
    }
    function nested2() {
        previousPage();
        searchBar();
    }
    window.addEventListener("DOMContentLoaded", searchBar() )